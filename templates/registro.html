{% extends 'base.html' %}
{% block title %}Registro de Ticket{% endblock %}
{% block body_class %}form-body{% endblock %}
{% block content %}
{% include '_logged_in_header.html' %}

<div class="form-container">
    <header class="main-header-form">
        <img src="{{ url_for('static', filename='images/logo_uls_blanco.png') }}" alt="Logo ULS" class="logo">
    </header>
    <h2>Registro de Nuevo Ticket</h2>
    <form method="post" novalidate>
        {{ form.hidden_tag() }} <div class="form-group">
            {{ form.rut.label }}
            {{ form.rut(class='form-control') }}
        </div>
        <div class="form-group">
            {{ form.servicio.label }}
            {{ form.servicio(class='form-control') }}
        </div>
        <div class="form-group" style="display: flex; align-items: center; gap: 10px; margin: 15px 0;">
            {{ form.es_preferencial(class='form-check-input', style="width: 20px; height: 20px;") }}
            <label for="es_preferencial" style="margin: 0; font-weight: bold; color: #CF142B;">
                ATENCIÃ“N PREFERENCIAL (3ra edad, Embarazadas, Discapacidad)
            </label>
        </div>
        {{ form.submit(class='btn-submit') }}
    </form>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == 'success' %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}
    </div>
{% endblock %}